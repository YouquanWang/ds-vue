(function(e){function t(t){for(var c,r,a=t[0],s=t[1],u=t[2],l=0,f=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(c=!1)}c&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},o={app:0},i=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function o(e,t,n,o,i,r){var a=Object(c["B"])("router-view");return Object(c["I"])((Object(c["v"])(),Object(c["f"])(a,null,null,512)),[[c["G"],e.web3]])}var i=n("5530"),r=(n("e17f"),n("2241")),a=(n("96cf"),n("1da1")),s=n("99e5"),u=n.n(s),d=n("5502"),l={setup:function(){var e=Object(d["b"])(),t=Object(c["z"])({web3:{},web3Provider:{},getBlance:function(n){t.web3.eth.getBalance(n).then((function(n){e.commit("updateCurrentBalance",t.web3.utils.fromWei(n,"ether"))}))},initWeb3:function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=13;break}return t.web3Provider=window.ethereum,t.web3=new u.a(t.web3Provider),n.prev=3,n.next=6,window.ethereum.enable();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](3),r["a"].alert({title:"标题",message:JSON.stringify(n.t0)}).then((function(){}));case 11:n.next=14;break;case 13:window.web3?(t.web3Provider=window.web3.currentProvider,t.web3=new u.a(t.web3Provider)):(t.web3Provider=new u.a.providers.HttpProvider("http://127.0.0.1:7545"),t.web3=new u.a(t.web3Provider));case 14:e.commit("updateIsConnected",!0),e.commit("updateProvider",t.web3),t.web3.eth.getAccounts().then((function(t){e.commit("updateAccount",t)}))["catch"]((function(e){r["a"].alert({title:"标题",message:JSON.stringify(e)}).then((function(){}))}));case 17:case"end":return n.stop()}}),n,null,[[3,8]])})));function c(){return n.apply(this,arguments)}return c}()});Object(c["t"])(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initWeb3();case 2:case"end":return e.stop()}}),e)}))));var n=Object(c["E"])(t);return Object(i["a"])({},n)}};n("5c6b");l.render=o;var f=l,b=n("6c02"),p=n("6f37"),m=n.n(p),v=n("e3c2"),h=n.n(v),O=Object(c["J"])("data-v-ce149170");Object(c["y"])("data-v-ce149170");var j={class:"exchange-box"},w={class:"exchange-top"},g={class:"select-box flex-middle van-hairline--bottom"},A={class:"select-item flex-item"},x={class:"coin-name-box flex-middle"},P={class:"name"},y=Object(c["i"])("img",{class:"select-icon",src:m.a,alt:""},null,-1),k=Object(c["i"])("img",{class:"exchange-icon",src:h.a,alt:""},null,-1),B={class:"select-item flex-item"},_={class:"coin-name-box flex-middle"},C={class:"name"},S=Object(c["i"])("img",{class:"select-icon",src:m.a,alt:""},null,-1),R={class:"field-box flex-between"},L={class:"balance van-hairline--top"},I={class:"tips-box"},D={class:"item"},M={class:"item"},E=Object(c["h"])("兑换");Object(c["w"])();var V=O((function(e,t,n,o,i,r){var a=Object(c["B"])("Popover"),s=Object(c["B"])("Field"),u=Object(c["B"])("Button");return Object(c["v"])(),Object(c["f"])("div",j,[Object(c["h"])(" 当前地址： "+Object(c["D"])(e.address)+" ",1),Object(c["i"])("div",w,[Object(c["i"])("div",g,[Object(c["i"])("div",A,[Object(c["i"])("img",{class:"coin-icon",src:e.coin1.logo,alt:""},null,8,["src"]),Object(c["i"])(a,{show:e.showLeftPopover,"onUpdate:show":t[1]||(t[1]=function(t){return e.showLeftPopover=t}),actions:e.coinsLeft,onSelect:e.onLeftSelect},{reference:O((function(){return[Object(c["i"])("div",x,[Object(c["i"])("span",P,Object(c["D"])(e.coin1.mainchain_name),1),y])]})),_:1},8,["show","actions","onSelect"])]),k,Object(c["i"])("div",B,[Object(c["i"])("img",{class:"coin-icon",src:e.coin2.logo,alt:""},null,8,["src"]),Object(c["i"])(a,{show:e.showRightPopover,"onUpdate:show":t[2]||(t[2]=function(t){return e.showRightPopover=t}),actions:e.coinsRight,onSelect:e.onRightSelect},{reference:O((function(){return[Object(c["i"])("div",_,[Object(c["i"])("span",C,Object(c["D"])(e.coin2.mainchain_name),1),S])]})),_:1},8,["show","actions","onSelect"])])]),Object(c["i"])("div",R,[Object(c["i"])(s,{border:!1,type:"number",class:"flex-item",modelValue:e.coin1Amount,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.coin1Amount=t}),placeholder:"转出数量"},null,8,["modelValue"]),Object(c["i"])(s,{"input-align":"right",type:"number",readonly:"",border:!1,class:"flex-item",modelValue:e.coin2Amount,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.coin2Amount=t}),placeholder:"获得数量"},null,8,["modelValue"])]),Object(c["i"])("div",L,"当前余额:"+Object(c["D"])(e.currentBalance),1),e.showAddressInput?(Object(c["v"])(),Object(c["f"])(s,{key:0,modelValue:e.toAddress,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.toAddress=t}),placeholder:"收币地址"},null,8,["modelValue"])):Object(c["g"])("",!0)]),Object(c["i"])("div",I,[Object(c["i"])("div",D,"汇率:"+Object(c["D"])(e.coin2.ratio),1),Object(c["i"])("div",M,"手续费:"+Object(c["D"])(e.coin2.fee)+Object(c["D"])(e.coin2.symbol),1)]),Object(c["i"])(u,{round:"",type:"primary",onClick:e.postInsert,size:"large"},{default:O((function(){return[E]})),_:1},8,["onClick"])])})),W=(n("d81d"),n("ac1f"),n("1276"),n("e7e5"),n("d399")),z=(n("d82d"),n("7278")),U=(n("66b9"),n("b650")),T=(n("be7f"),n("565f")),F=(n("d3b7"),n("53ca")),J=n("bc3a"),q=n.n(J),G=n("4328"),Y=n.n(G),N=!0,Z=N?"https://immaster-xs.dsceshi.cn/":"https://biubiu.xinshangyun.com/",K=q.a.create();K.defaults.withCredentials=!0,K.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",K.defaults.baseURL=Z,K.interceptors.request.use((function(e){if("post"===e.method){if(e.data&&e.data.constructor===FormData)return e;e.data||(e.data={}),e.data.device="mobile",e.data.appid="appid1532576417089",e.data=Y.a.stringify(e.data)}return e}),(function(e){return Promise.reject(e)})),K.interceptors.response.use((function(e){var t=e.data;return"object"===Object(F["a"])(t)&&1!==t.status?(Object(W["a"])(t.info),Promise.reject(e.data)):e.data}),(function(e){return Promise.reject(e)}));var H=K;function Q(){return H.post("/api/v1/user/coinconvert/CoinSrcList")}function X(e){return H.post("/api/v1/user/coinconvert/CoinDstList",e)}function $(e){return H.post("/api/v1/user/coinconvert/Insert",e)}var ee={components:{Field:T["a"],Button:U["a"],Popover:z["a"]},setup:function(){var e=Object(d["b"])(),t=Object(c["z"])({coin1Amount:"",coin2Amount:Object(c["d"])((function(){if(t.coin1Amount&&t.coin2){var e=t.coin2.ratio.split(":");return t.coin1Amount*e[1]/e[0]}return""})),toAddress:"",showAddressInput:Object(c["d"])((function(){return!(!t.coin1||!t.coin2||t.coin1.mainchain_symbol===t.coin2.mainchain_symbol)})),address:Object(c["d"])((function(){return e.state.accounts[0]})),provider:Object(c["d"])((function(){return e.state.provider})),currentBalance:Object(c["d"])((function(){return e.state.currentBalance})),coin1:{},coin2:{},coinsLeft:[],coinsRight:[],showLeftPopover:!1,showRightPopover:!1,onLeftSelect:function(e){t.coin1=e,t.getCoinList(e.id)},onRightSelect:function(e){t.coin2=e},getCoinList:function(e){X({coin_id:e}).then((function(e){var n=e.data.data.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{text:e.mainchain_name})}));t.coinsRight=n,t.coin2=n[0]}))},postInsert:function(){t.address?t.toAddress||!t.showAddressInput?$({src_coin_id:t.coin1.id,src_address:t.address,dst_coin_id:t.coin2.id,dst_address:t.showAddressInput?t.toAddress:t.address,src_number:t.coin1Amount}).then((function(e){var n=e.data;t.provider.eth.sendTransaction({from:t.address,to:n,value:t.provider.utils.toWei(t.coin1Amount)}).then((function(e){console.log(e)}))})):Object(W["a"])("请输入收币地址"):Object(W["a"])("未获取到当前钱包地址")}});Object(c["t"])((function(){Q().then((function(e){console.log(e);var n=e.data.data.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{text:e.mainchain_name})}));t.coinsLeft=n,t.coin1=n[0],t.getCoinList(t.coin1.id)}))}));var n=Object(c["E"])(t);return Object(i["a"])({},n)}};n("fedd"),n("b965");ee.render=V,ee.__scopeId="data-v-ce149170";var te=ee,ne=[{path:"/",name:"Index",component:te}],ce=Object(b["a"])({history:Object(b["b"])(),routes:ne}),oe=ce,ie=Object(d["a"])({state:{accounts:[],provider:{},isConnected:!1,currentBalance:""},mutations:{updateAccount:function(e,t){e.accounts=t},updateProvider:function(e,t){e.provider=t},updateIsConnected:function(e,t){e.isConnected=t},updateCurrentBalance:function(e,t){e.currentBalance=t}},actions:{},modules:{}});n("499a");Object(c["e"])(f).use(ie).use(oe).mount("#app")},"5c6b":function(e,t,n){"use strict";n("d4bf")},6:function(e,t){},6842:function(e,t,n){},"6f37":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA20lEQVRIS2NkoDFgpLH5DKMWEAzh0SAapEFk5ZxVzPCfoZuBgahk/P8/A0PZ8X3TerB5B2ckWzllJjIwMM5mYGBgxhMOfxkY/qce2zd9Pi41eFORlWO2PwPj/xUMDAwcWAz4wfCfMeLY/qkb8UUEwWRq45Lj8O/fP5AhfEgGfWJkZAg4unfafkKxTNACkAE2jpnG/xgZtzEwMIgxMDC8Yvr/3+vI/ulnCRkOkifKArAlztlq//7/n834/3/a0f3TbxJjOEkWEGsgujqifTBqAbkhQFDfaBwMfBABAH6oMxnWXaVkAAAAAElFTkSuQmCC"},7:function(e,t){},8:function(e,t){},9:function(e,t){},b965:function(e,t,n){"use strict";n("6842")},d4bf:function(e,t,n){},e3c2:function(e,t,n){e.exports=n.p+"static/img/tran-exchange.dd23ef8a.png"},e7e1:function(e,t,n){},fedd:function(e,t,n){"use strict";n("e7e1")}});
//# sourceMappingURL=app.1bd7bb2f.js.map